<head>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>

<!-- Main Header -->
<header class="main-header">
    <div class="header-left">Photo Details</div>
    <div class="header-center">
        <form class="search-form" action="/search" method="GET">
            <input type="text" name="q" placeholder="Search photos..." />
            <button type="submit">Search</button>
        </form>
    </div>
    <div class="header-right">
        <a href="/" class="header-btn">Home</a>
        <a href="/notifications" class="header-btn">Notifications</a>
        <a href="/logout" class="header-btn">Logout</a>
    </div>
</header>

<div class="content-container">

    <!-- Photo Card -->
    <div class="photo-details-card">
        <img class="photo-details-img" src="/photos/{{photo.filename}}" alt="{{photo.title}}">
        <div class="photo-details-info">
            <a href="/edit-photo?pid={{photo.id}}" class="edit-btn">Edit Photo</a>
            <h2>{{photo.title}}</h2>
            <p>{{photo.description}}</p>
            <p><strong>Visibility:</strong> {{photo.visibility}}</p>

            {{#if photo.tags}}
                <div class="tags">
                    {{#each photo.tags}}
                        <span>{{this}}</span>
                    {{/each}}
                </div>
            {{else}}
                <p><strong>Tags:</strong> None</p>
            {{/if}}
        </div>
    </div>

    <!-- Comments Section -->
    <div class="comments-section">
        <h2>Comments</h2>

        {{#if comments.length}}
            <ul>
                {{#each comments}}
                    <li>
                        <strong>{{this.username}}:</strong> {{this.text}}
                        <em>({{this.date}})</em>
                    </li>
                {{/each}}
            </ul>
        {{else}}
            <p>No comments yet.</p>
        {{/if}}

        <h3>Add a Comment</h3>
        <form method="POST" action="/photo-details/{{photo.id}}/comment">
            <textarea name="text" rows="3" required></textarea>
            <button type="submit" class="btn-primary">Post Comment</button>
        </form>
    </div>

</div>

</body>
